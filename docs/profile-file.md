SC-Controller profile file specification
----------------------------------------

Profile file contains json-encoded dictonary with specific keys. Missing keys are substituted with defaults, unknwon keys are ignored. See [Desktop.sccprofile](../default_profiles/Desktop.sccprofile) for example.

Root dictonary has to contain following keys:
- `buttons`			- contains subkey for controller buttons. See [buttons](#buttons).
- `pad_left`		- sets action executed when finger is moved on left touchpad.
- `pad_right`		- ... when finger is moved on right touchpad.
- `stick`			- ... when stick angle is changed.
- `trigger_left`	- ... when left trigger value is changed.
- `trigger_right`	- ... when right trigger value is changed.
- `gyro`			- ... when gyroscope reading changes. Gyroscope in is activated only if this key is set to something else than `NoAction`
- `menus`			- stores menus saved in profile. See [menus](#menus).
- `version`			- profile file version. Current version is _1_. See If not pressent, _0_ is assumed. If profile file version is lower than expected, automatic conversion may happen. This conversion is in-memory only, but changing and saving such profile in GUI will save converted data.

See [actions.md](actions.md) file for list of possible actions.


## <A name="Action_definition"></a>Action definition
Action definition is dictionary containing `action` key and optional `name` key. Value assigned to `action` describes action to be executed.

`action` key can describe entire action, but for better readability, it is also possible to specify additional properties using [additional keys](#Additional_keys).

For example,

	{
	  "trigger_left": {
	    "action": "axis(Axes.ABS_Z)",
	    "name": "Aim",
	}}

assigns `axis` action with *Axes.ABS_Z* parameter to left trigger.

## <a name="Additional_keys"></a>Additional keys in action definition

#### `X` and `Y`
Turns action into `XYAction`, allowing to specify different action for each pad
or stick axis. If either of keys is specified, `action` key is ignored.

Example:

	"stick" : {
	  "X": { "action": "axis(Axes.ABS_RX)" },
	  "Y": { "action": "raxis(Axes.ABS_RY)" }
	},


is same as
`"stick" : { "action" : "XY(axis(Axes.ABS_RX), raxis(Axes.ABS_RY))" }`

#### `dpad`
Turns action into `DPadAction`, allowing to assign different action for each
side of pad or stick alignment.

Example:

	"dpad" : [
	  { "action": "button(Keys.KEY_UP)" },
	  { "action": "button(Keys.KEY_DOWN)" },
	  { "action": "button(Keys.KEY_LEFT)" },
	  { "action": "button(Keys.KEY_RIGHT)" }
	],


#### `deadzone`
Specifies deadzone. Excepts `lower` and `upper` subkeys,
defaults to *0* and *32767*

Example:

	"trigger_left": {
 	  "action": "axis(Axes.ABS_Z)", 
 	  "deadzone": {
	    "lower": 100, 
	    "upper": 200
  	}},


#### `sensitivity`
Specifies input sensitivity. Value is list with one or two values for sensitivity
over X and Y axis (or one value for sensitivity of trigger.)
Default sensitivity is 1.0

Example:

	"stick" : {
	  "action": "trackball()",
	  "sensitivity": [2.0, 0.5]
	},

doubles sensitivity over X and halves over Y axis.


#### `feedback`
Enables haptic feedback for action. Value is list with one to three values
specifiing feedback position (*'LEFT'*, *'RIGHT'* or *'BOTH'*),
amplitude and frequency.

Example:

	"pad_left": {
	  "action": "trackball()",
	  "feedback": ["LEFT", 512.0, 5.0]
	},

specifies feedback with amplitude of 512 (default vlaue)
and frequency of 5 generated by left motor.

#### `osd`
If set to True, enables OSD for action.

Example:

	"X": {
	  "action": "button(Keys.BTN_EAST)", 
	  "osd": true
	}, 

enables OSD feedback for X button.

#### `click`
If set to True, enables 'click' modifier, making action executed only when
pad or stick is pressed.

Example:

	"pad_left": {
	  "action": "trackball()",
	  "click": True
	},


## <a name="buttons"></a>Buttons
`buttons` is dictionary with keys for each gamepad button.
Possible keys are:

- `X`, `Y`, `A` and `B` for colored buttons
- `C` for Steam button in center
- `SELECT` and `START` for small "( &lt; )" and "( &gt; )" buttons
- `LB` and `RB` for left and right bumper
- `LPAD`, `RPAD` and `STICK` for presing pads or stick.

All keys are optional. Value for each key is [action definition](#Action_definition)

Example:

	"buttons": {
	  "A":    { "action": "button(Keys.BTN_WEST)",  }, 
	  "B":    { "action": "osd('Hello world!')" }, 
	  "BACK": { "action": "button(Keys.KEY_LEFTCTRL) and button(Keys.KEY_A)" }, 
	}


## <a name="menus"></a>Menus
`menus` is dictionary with menus stored along with profile. Keys are IDs of
menus; Menu ID can contain any characters but dots (".") and slashes ("/").

Value for each key is same as root list in [menu file](menu-file.md)
